(function(){"use strict";var e={3946:function(e,a,t){var r=t(9242),l=t(3396);const s={id:"background",class:"bg-dark py-3"};function c(e,a,t,r,c,n){const i=(0,l.up)("AppHeader"),o=(0,l.up)("router-view"),u=(0,l.up)("AppFooter");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(i),(0,l._)("div",s,[((0,l.wg)(),(0,l.j4)(o,{key:c.componentKey,onSuccess:n.success,onError:n.error,onWarning:n.warning,onForceUpdate:n.forceUpdate},null,8,["onSuccess","onError","onWarning","onForceUpdate"]))]),(0,l.Wm)(u)],64)}const n=e=>((0,l.dD)("data-v-975c0d6e"),e=e(),(0,l.Cn)(),e),i={class:"navbar navbar-expand-lg navbar-dark bg-dark shadow-sm"},o={class:"container-fluid"},u=(0,l.Uk)("The Tavern"),d=n((()=>(0,l._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,l._)("span",{class:"navbar-toggler-icon"})],-1))),h={class:"collapse navbar-collapse",id:"navbarNav"},m={class:"navbar-nav d-flex align-items-center w-100"},p={class:"nav-item"},v=(0,l.Uk)(" Characters "),_={class:"nav-item"},f=(0,l.Uk)(" Add Character "),g={key:0,class:"nav-item dropdown"},b=n((()=>(0,l._)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navBarDropDown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Admin ",-1))),w={class:"dropdown-menu","aria-labelledby":"navBarDropDown"},y=(0,l.Uk)(" Manage Users "),k=(0,l.Uk)(" Add User "),x=n((()=>(0,l._)("li",{class:"nav-item m-auto"},null,-1))),V={class:"nav-item"},S=(0,l.Uk)("Login");function I(e,a,t,r,s,c){const n=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("nav",i,[(0,l._)("div",o,[(0,l.Wm)(n,{class:"navbar-brand",to:"/"},{default:(0,l.w5)((()=>[u])),_:1}),d,(0,l._)("div",h,[(0,l._)("ul",m,[(0,l._)("li",p,[(0,l.Wm)(n,{class:"nav-link","aria-current":"page",to:"/characters"},{default:(0,l.w5)((()=>[v])),_:1})]),(0,l._)("li",_,[(0,l.Wm)(n,{class:"nav-link",to:"/admin/characters/0"},{default:(0,l.w5)((()=>[f])),_:1})]),""!==s.store.token?((0,l.wg)(),(0,l.iD)("li",g,[b,(0,l._)("ul",w,[(0,l._)("li",null,[(0,l.Wm)(n,{class:"dropdown-item",to:"/admin/users"},{default:(0,l.w5)((()=>[y])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(n,{class:"dropdown-item",to:"/admin/users/0"},{default:(0,l.w5)((()=>[k])),_:1})])])])):(0,l.kq)("",!0),x,(0,l._)("li",V,[""==s.store.token?((0,l.wg)(),(0,l.j4)(n,{key:0,class:"nav-link","aria-current":"page",to:"/login"},{default:(0,l.w5)((()=>[S])),_:1})):((0,l.wg)(),(0,l.iD)("a",{key:1,class:"nav-link",href:"javascript:void(0);",onClick:a[0]||(a[0]=(...e)=>c.logout&&c.logout(...e))},"Logout"))])])])])])}var U=t(4870);const q=(0,U.qj)({token:"",user:{}});var D=t(678);const j=e=>((0,l.dD)("data-v-cfe10096"),e=e(),(0,l.Cn)(),e),C={id:"home",class:"container d-flex"},W=j((()=>(0,l._)("div",{class:"row flex-fill"},[(0,l._)("div",{class:"col text-center d-flex flex-column justify-content-center align-items-center"},[(0,l._)("div",{class:"h1"},[(0,l.Uk)(" Welcome to "),(0,l._)("div",{class:"display-1 tavern-text"},"The Tavern")])])],-1))),T=[W];function $(e,a){return(0,l.wg)(),(0,l.iD)("div",C,T)}var O=t(89);const E={},A=(0,O.Z)(E,[["render",$],["__scopeId","data-v-cfe10096"]]);var P=A,z={beforeMount(){Ll.push("/")}};const H=z;var L=H,M=t(7139);const N={class:"container"},Z={class:"row"},F={class:"col"},B={class:"card shadow-sm"},J={class:"card-body px-0"},R=(0,l._)("h1",{class:"card-title"},"All Characters",-1),G=(0,l._)("hr",null,null,-1),K={key:0,class:"table table-striped table-hover"},Y=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Character Name"),(0,l._)("th",null,"Class & Level"),(0,l._)("th",null,"Race"),(0,l._)("th",null,"Background"),(0,l._)("th",null,"Alignment"),(0,l._)("th",null,"Experience Points"),(0,l._)("th",null,"Player Name")])],-1),Q={key:1};function X(e,a,t,r,s,c){const n=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",N,[(0,l._)("div",Z,[(0,l._)("div",F,[(0,l._)("div",B,[(0,l._)("div",J,[R,G,this.ready?((0,l.wg)(),(0,l.iD)("table",K,[Y,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.characters,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("td",null,[(0,l.Wm)(n,{class:"btn btn-dark border-0",to:`/admin/characters/${e.id}`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,M.zw)(e.character_name),1)])),_:2},1032,["to"])]),(0,l._)("td",null,(0,M.zw)(e.class)+" "+(0,M.zw)(e.level),1),(0,l._)("td",null,(0,M.zw)(e.race),1),(0,l._)("td",null,(0,M.zw)(e.background),1),(0,l._)("td",null,(0,M.zw)(e.alignment),1),(0,l._)("td",null,(0,M.zw)(e.experience_points),1),(0,l._)("td",null,(0,M.zw)(e.user.first_name)+" "+(0,M.zw)(e.user.last_name),1)])))),128))])])):((0,l.wg)(),(0,l.iD)("p",Q,"Loading..."))])])])])])}let ee={requireToken:function(){if(""===q.token)return Ll.push("/login"),!1},requestOptions:function(e){const a=new Headers;return a.append("Content-Type","application/json"),a.append("Authorization","Bearer "+q.token),{method:"POST",body:JSON.stringify(e),headers:a}},checkToken:function(){if(""!==q.token){const e={token:q.token},a=new Headers;a.append("Content-Type","application/json");let t={method:"POST",body:JSON.stringify(e),headers:a};fetch("https://tavern-api-project.herokuapp.com/validate-token",t).then((e=>e.json())).then((e=>{e.error?console.log(e.error):e.data||(q.token="",q.user={},document.cookie="_site_data=; Path=/; SameSite=Strict; Secure; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",Ll.push("/login"))}))}}};var ae=ee,te=t(602),re=t.n(te),le={data(){return{characters:[],ready:!1}},beforeMount(){fetch("https://tavern-api-project.herokuapp.com/characters",ae.requestOptions("")).then((e=>e.json())).then((e=>{e.error?re().alert({type:"error",text:e.message}):(this.characters=e.data.characters,this.ready=!0)})).catch((e=>{re().alert({type:"error",text:e})}))}};const se=(0,O.Z)(le,[["render",X]]);var ce=se;const ne={class:"container"},ie=(0,l.uE)('<div class="row"><div class="col"><div class="card shadow-sm"><div class="card-body"><h1 class="card-title">Character</h1><hr><span>Veri strenkth</span></div></div></div></div>',1),oe=[ie];function ue(e,a){return(0,l.wg)(),(0,l.iD)("div",ne,oe)}const de={},he=(0,O.Z)(de,[["render",ue]]);var me=he;const pe=e=>((0,l.dD)("data-v-02c4f5e7"),e=e(),(0,l.Cn)(),e),ve={class:"container"},_e={class:"row"},fe={class:"col d-flex justify-content-center align-items-center"},ge={class:"card shadow-sm"},be={class:"card-body"},we=pe((()=>(0,l._)("h1",{class:"card-title"},"Edit Character",-1))),ye=pe((()=>(0,l._)("hr",null,null,-1))),ke={class:"row"},xe={class:"col"},Ve={class:"col"},Se={class:"col"},Ie={class:"col"},Ue={class:"row"},qe={class:"col"},De={class:"col"},je={class:"col"},Ce={class:"col"},We={class:"mb-3 text-start"},Te=pe((()=>(0,l._)("label",{class:"form-label"},"Player Name",-1))),$e={class:"ms-3 mt-2 text-muted"},Oe=pe((()=>(0,l._)("hr",null,null,-1))),Ee={class:"row mt-5"},Ae={class:"col-4 d-flex flex-column justify-content-between"},Pe={class:"row"},ze={class:"col"},He={class:"col text-start"},Le={class:"form-check"},Me=["value"],Ne=pe((()=>(0,l._)("label",{class:"form-check-label",for:"athletics"}," Athletics ",-1))),Ze=pe((()=>(0,l._)("hr",null,null,-1))),Fe={class:"row"},Be={class:"col"},Je={class:"col text-start"},Re={class:"form-check"},Ge=["value"],Ke=pe((()=>(0,l._)("label",{class:"form-check-label",for:"acrobatics"}," Acrobatics ",-1))),Ye={class:"form-check"},Qe=["value"],Xe=pe((()=>(0,l._)("label",{class:"form-check-label",for:"sleight_of_hand"}," Sleight of Hand ",-1))),ea={class:"form-check"},aa=["value"],ta=pe((()=>(0,l._)("label",{class:"form-check-label",for:"stealth"}," Stealth ",-1))),ra=pe((()=>(0,l._)("hr",null,null,-1))),la={class:"row"},sa={class:"col"},ca=pe((()=>(0,l._)("div",{class:"col text-start"},null,-1))),na=pe((()=>(0,l._)("hr",null,null,-1))),ia={class:"row"},oa={class:"col"},ua={class:"col text-start"},da={class:"form-check"},ha=["value"],ma=pe((()=>(0,l._)("label",{class:"form-check-label",for:"arcana"}," Arcana ",-1))),pa={class:"form-check"},va=["value"],_a=pe((()=>(0,l._)("label",{class:"form-check-label",for:"history"}," History ",-1))),fa={class:"form-check"},ga=["value"],ba=pe((()=>(0,l._)("label",{class:"form-check-label",for:"investigation"}," Investigation ",-1))),wa={class:"form-check"},ya=["value"],ka=pe((()=>(0,l._)("label",{class:"form-check-label",for:"nature"}," Nature ",-1))),xa={class:"form-check"},Va=["value"],Sa=pe((()=>(0,l._)("label",{class:"form-check-label",for:"religion"}," Religion ",-1))),Ia=pe((()=>(0,l._)("hr",null,null,-1))),Ua={class:"row"},qa={class:"col"},Da={class:"col text-start"},ja={class:"form-check"},Ca=["value"],Wa=pe((()=>(0,l._)("label",{class:"form-check-label",for:"animal_handling"}," Religion ",-1))),Ta={class:"form-check"},$a=["value"],Oa=pe((()=>(0,l._)("label",{class:"form-check-label",for:"religion"}," Animal Handling ",-1))),Ea={class:"form-check"},Aa=["value"],Pa=pe((()=>(0,l._)("label",{class:"form-check-label",for:"insight"}," Insight ",-1))),za={class:"form-check"},Ha=["value"],La=pe((()=>(0,l._)("label",{class:"form-check-label",for:"medicine"}," Medicine ",-1))),Ma={class:"form-check"},Na=["value"],Za=pe((()=>(0,l._)("label",{class:"form-check-label",for:"perception"}," Perception ",-1))),Fa={class:"form-check"},Ba=["value"],Ja=pe((()=>(0,l._)("label",{class:"form-check-label",for:"survival"}," Survival ",-1))),Ra=pe((()=>(0,l._)("hr",null,null,-1))),Ga={class:"row"},Ka={class:"col"},Ya={class:"col text-start"},Qa={class:"form-check"},Xa=["value"],et=pe((()=>(0,l._)("label",{class:"form-check-label",for:"deception"}," Deception ",-1))),at={class:"form-check"},tt=["value"],rt=pe((()=>(0,l._)("label",{class:"form-check-label",for:"intimidation"}," Intimidation ",-1))),lt={class:"form-check"},st=["value"],ct=pe((()=>(0,l._)("label",{class:"form-check-label",for:"performance"}," Performance ",-1))),nt={class:"form-check"},it=["value"],ot=pe((()=>(0,l._)("label",{class:"form-check-label",for:"persuation"}," Persuation ",-1))),ut=pe((()=>(0,l._)("hr",null,null,-1))),dt={class:"row d-flex flex-column"},ht=pe((()=>(0,l._)("div",{class:"col text-start"},[(0,l._)("label",{class:"form-label"},"Other Proficiencies and Languages")],-1))),mt={class:"col"},pt=["v-model","value"],vt={class:"col"},_t={class:"row"},ft={class:"col"},gt={class:"col"},bt={class:"col"},wt={class:"row"},yt={class:"col"},kt={class:"col"},xt={class:"row"},Vt={class:"col"},St={class:"col"},It=pe((()=>(0,l._)("hr",null,null,-1))),Ut={class:"row"},qt=pe((()=>(0,l._)("label",{class:"form-label"},"Attacks And Spellcasting",-1))),Dt=["v-model","value"],jt=pe((()=>(0,l._)("hr",null,null,-1))),Ct={class:"row"},Wt={class:"col"},Tt={class:"col-9 d-flex flex-column"},$t=pe((()=>(0,l._)("label",{class:"form-label"},"Equipment",-1))),Ot=["v-model","value"],Et={class:"col d-flex flex-column justify-content-between mx-2"},At={class:"row d-flex flex-column text-start"},Pt=pe((()=>(0,l._)("div",{class:"col"},[(0,l._)("label",{class:"form-label"},"Personality Traits")],-1))),zt={class:"col"},Ht=["v-model","value"],Lt={class:"row d-flex flex-column text-start"},Mt=pe((()=>(0,l._)("div",{class:"col"},[(0,l._)("label",{class:"form-label"},"Ideals")],-1))),Nt={class:"col"},Zt=["v-model","value"],Ft={class:"row d-flex flex-column text-start"},Bt=pe((()=>(0,l._)("div",{class:"col"},[(0,l._)("label",{class:"form-label"},"Bonds")],-1))),Jt={class:"col"},Rt=["v-model","value"],Gt={class:"row d-flex flex-column text-start"},Kt=pe((()=>(0,l._)("div",{class:"col"},[(0,l._)("label",{class:"form-label"},"Flaws")],-1))),Yt={class:"col"},Qt=["v-model","value"],Xt={class:"row d-flex flex-column text-start"},er=pe((()=>(0,l._)("div",{class:"col"},[(0,l._)("label",{class:"form-label"},"Features and Traits")],-1))),ar={class:"col"},tr=["v-model","value"],rr=pe((()=>(0,l._)("hr",null,null,-1))),lr={class:"float-start"},sr=pe((()=>(0,l._)("input",{type:"submit",class:"btn btn-success me-2",value:"Save"},null,-1))),cr=(0,l.Uk)("Cancel"),nr={class:"float-end"},ir=pe((()=>(0,l._)("div",{class:"clearfix"},null,-1))),or={key:1};function ur(e,a,t,s,c,n){const i=(0,l.up)("text-input"),o=(0,l.up)("number-input"),u=(0,l.up)("router-link"),d=(0,l.up)("form-tag");return(0,l.wg)(),(0,l.iD)("div",ve,[(0,l._)("div",_e,[(0,l._)("div",fe,[(0,l._)("div",ge,[(0,l._)("div",be,[we,ye,this.ready?((0,l.wg)(),(0,l.j4)(d,{key:0,onCharacterEditEvent:n.submitHandler,name:"characterform",event:"characterEditEvent"},{default:(0,l.w5)((()=>[(0,l._)("div",ke,[(0,l._)("div",xe,[(0,l.Wm)(i,{modelValue:c.character.character_name,"onUpdate:modelValue":a[0]||(a[0]=e=>c.character.character_name=e),type:"text",required:"true",label:"Character Name",value:c.character.character_name,name:"character-name"},null,8,["modelValue","value"])]),(0,l._)("div",Ve,[(0,l.Wm)(i,{modelValue:c.character.class,"onUpdate:modelValue":a[1]||(a[1]=e=>c.character.class=e),type:"text",required:"true",label:"Class",value:c.character.class,name:"class"},null,8,["modelValue","value"])]),(0,l._)("div",Se,[(0,l.Wm)(o,{modelValue:c.character.level,"onUpdate:modelValue":a[2]||(a[2]=e=>c.character.level=e),type:"number",required:"true",label:"Level",value:c.character.level,name:"level"},null,8,["modelValue","value"])]),(0,l._)("div",Ie,[(0,l.Wm)(i,{modelValue:c.character.race,"onUpdate:modelValue":a[3]||(a[3]=e=>c.character.race=e),type:"text",required:"true",label:"Race",value:c.character.race,name:"race"},null,8,["modelValue","value"])])]),(0,l._)("div",Ue,[(0,l._)("div",qe,[(0,l.Wm)(i,{modelValue:c.character.background,"onUpdate:modelValue":a[4]||(a[4]=e=>c.character.background=e),type:"text",required:"true",label:"Background",value:c.character.background,name:"background"},null,8,["modelValue","value"])]),(0,l._)("div",De,[(0,l.Wm)(i,{modelValue:c.character.alignment,"onUpdate:modelValue":a[5]||(a[5]=e=>c.character.alignment=e),type:"text",required:"true",label:"Alignment",value:c.character.alignment,name:"alignment"},null,8,["modelValue","value"])]),(0,l._)("div",je,[(0,l.Wm)(o,{modelValue:c.character.experience_points,"onUpdate:modelValue":a[6]||(a[6]=e=>c.character.experience_points=e),type:"number",required:"true",label:"Experience Points",value:c.character.experience_points,name:"experience-points"},null,8,["modelValue","value"])]),(0,l._)("div",Ce,[(0,l._)("div",We,[Te,(0,l._)("p",$e,(0,M.zw)(c.character.user.first_name)+" "+(0,M.zw)(c.character.user.last_name),1)])])]),Oe,(0,l._)("div",Ee,[(0,l._)("div",Ae,[(0,l._)("div",Pe,[(0,l._)("div",ze,[(0,l.Wm)(o,{modelValue:c.character.strength,"onUpdate:modelValue":a[7]||(a[7]=e=>c.character.strength=e),type:"number",required:"true",label:"Strength",value:c.character.strength,name:"strength"},null,8,["modelValue","value"])]),(0,l._)("div",He,[(0,l._)("div",Le,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[8]||(a[8]=e=>c.character.athletics=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"athletics",value:c.character.athletics},null,8,Me),[[r.e8,c.character.athletics]]),Ne])])]),Ze,(0,l._)("div",Fe,[(0,l._)("div",Be,[(0,l.Wm)(o,{modelValue:c.character.dexterity,"onUpdate:modelValue":a[9]||(a[9]=e=>c.character.dexterity=e),type:"number",required:"true",label:"Dexterity",value:c.character.dexterity,name:"dexterity"},null,8,["modelValue","value"])]),(0,l._)("div",Je,[(0,l._)("div",Re,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[10]||(a[10]=e=>c.character.acrobatics=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"acrobatics",value:c.character.acrobatics},null,8,Ge),[[r.e8,c.character.acrobatics]]),Ke]),(0,l._)("div",Ye,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[11]||(a[11]=e=>c.character.sleight_of_hand=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"sleight_of_hand",value:c.character.sleight_of_hand},null,8,Qe),[[r.e8,c.character.sleight_of_hand]]),Xe]),(0,l._)("div",ea,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[12]||(a[12]=e=>c.character.stealth=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"stealth",value:c.character.stealth},null,8,aa),[[r.e8,c.character.stealth]]),ta])])]),ra,(0,l._)("div",la,[(0,l._)("div",sa,[(0,l.Wm)(o,{modelValue:c.character.constitution,"onUpdate:modelValue":a[13]||(a[13]=e=>c.character.constitution=e),type:"number",required:"true",label:"Constitution",value:c.character.constitution,name:"constitution"},null,8,["modelValue","value"])]),ca]),na,(0,l._)("div",ia,[(0,l._)("div",oa,[(0,l.Wm)(o,{modelValue:c.character.intelligence,"onUpdate:modelValue":a[14]||(a[14]=e=>c.character.intelligence=e),type:"number",required:"true",label:"Intelligence",value:c.character.intelligence,name:"intelligence"},null,8,["modelValue","value"])]),(0,l._)("div",ua,[(0,l._)("div",da,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[15]||(a[15]=e=>c.character.arcana=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"arcana",value:c.character.arcana},null,8,ha),[[r.e8,c.character.arcana]]),ma]),(0,l._)("div",pa,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[16]||(a[16]=e=>c.character.history=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"history",value:c.character.history},null,8,va),[[r.e8,c.character.history]]),_a]),(0,l._)("div",fa,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[17]||(a[17]=e=>c.character.investigation=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"investigation",value:c.character.investigation},null,8,ga),[[r.e8,c.character.investigation]]),ba]),(0,l._)("div",wa,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[18]||(a[18]=e=>c.character.nature=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"nature",value:c.character.nature},null,8,ya),[[r.e8,c.character.nature]]),ka]),(0,l._)("div",xa,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[19]||(a[19]=e=>c.character.religion=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"religion",value:c.character.religion},null,8,Va),[[r.e8,c.character.religion]]),Sa])])]),Ia,(0,l._)("div",Ua,[(0,l._)("div",qa,[(0,l.Wm)(o,{modelValue:c.character.wisdom,"onUpdate:modelValue":a[20]||(a[20]=e=>c.character.wisdom=e),type:"number",required:"true",label:"Wisdom",value:c.character.wisdom,name:"wisdom"},null,8,["modelValue","value"])]),(0,l._)("div",Da,[(0,l._)("div",ja,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[21]||(a[21]=e=>c.character.animal_handling=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"religion",value:c.character.religion},null,8,Ca),[[r.e8,c.character.animal_handling]]),Wa]),(0,l._)("div",Ta,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[22]||(a[22]=e=>c.character.religion=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"animal_handling",value:c.character.animal_handling},null,8,$a),[[r.e8,c.character.religion]]),Oa]),(0,l._)("div",Ea,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[23]||(a[23]=e=>c.character.insight=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"insight",value:c.character.insight},null,8,Aa),[[r.e8,c.character.insight]]),Pa]),(0,l._)("div",za,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[24]||(a[24]=e=>c.character.medicine=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"medicine",value:c.character.medicine},null,8,Ha),[[r.e8,c.character.medicine]]),La]),(0,l._)("div",Ma,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[25]||(a[25]=e=>c.character.perception=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"perception",value:c.character.perception},null,8,Na),[[r.e8,c.character.perception]]),Za]),(0,l._)("div",Fa,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[26]||(a[26]=e=>c.character.survival=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"survival",value:c.character.survival},null,8,Ba),[[r.e8,c.character.survival]]),Ja])])]),Ra,(0,l._)("div",Ga,[(0,l._)("div",Ka,[(0,l.Wm)(o,{modelValue:c.character.charisma,"onUpdate:modelValue":a[27]||(a[27]=e=>c.character.charisma=e),type:"number",required:"true",label:"Charisma",value:c.character.charisma,name:"charisma"},null,8,["modelValue","value"])]),(0,l._)("div",Ya,[(0,l._)("div",Qa,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[28]||(a[28]=e=>c.character.deception=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"deception",value:c.character.deception},null,8,Xa),[[r.e8,c.character.deception]]),et]),(0,l._)("div",at,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[29]||(a[29]=e=>c.character.intimidation=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"intimidation",value:c.character.intimidation},null,8,tt),[[r.e8,c.character.intimidation]]),rt]),(0,l._)("div",lt,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[30]||(a[30]=e=>c.character.performance=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"performance",value:c.character.performance},null,8,st),[[r.e8,c.character.performance]]),ct]),(0,l._)("div",nt,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[31]||(a[31]=e=>c.character.persuation=e),"true-value":"1","false-value":"0",class:"form-check-input",type:"checkbox",id:"persuation",value:c.character.persuation},null,8,it),[[r.e8,c.character.persuation]]),ot])])]),ut,(0,l._)("div",dt,[ht,(0,l._)("div",mt,[(0,l._)("textarea",{"v-model":c.character.other_proficiencies_and_languages,value:c.character.other_proficiencies_and_languages,onInput:a[32]||(a[32]=e=>c.character.other_proficiencies_and_languages=e.target.value),class:"form-control",rows:"10"},null,40,pt)])])]),(0,l._)("div",vt,[(0,l._)("div",_t,[(0,l._)("div",ft,[(0,l.Wm)(o,{modelValue:c.character.armor_class,"onUpdate:modelValue":a[33]||(a[33]=e=>c.character.armor_class=e),type:"number",required:"true",label:"Armor Class",value:c.character.armor_class,name:"armor-class"},null,8,["modelValue","value"])]),(0,l._)("div",gt,[(0,l.Wm)(o,{modelValue:c.character.initiative,"onUpdate:modelValue":a[34]||(a[34]=e=>c.character.initiative=e),type:"number",required:"true",label:"Initiative",value:c.character.initiative,name:"initiative"},null,8,["modelValue","value"])]),(0,l._)("div",bt,[(0,l.Wm)(o,{modelValue:c.character.speed,"onUpdate:modelValue":a[35]||(a[35]=e=>c.character.speed=e),type:"number",required:"true",label:"Speed",value:c.character.speed,name:"speed"},null,8,["modelValue","value"])])]),(0,l._)("div",wt,[(0,l._)("div",yt,[(0,l.Wm)(o,{modelValue:c.character.current_hit_points,"onUpdate:modelValue":a[36]||(a[36]=e=>c.character.current_hit_points=e),type:"number",required:"true",label:"Current Hit Points",value:c.character.current_hit_points,name:"current-hit-points"},null,8,["modelValue","value"])]),(0,l._)("div",kt,[(0,l.Wm)(o,{modelValue:c.character.max_hit_points,"onUpdate:modelValue":a[37]||(a[37]=e=>c.character.max_hit_points=e),type:"number",required:"true",label:"Total Hit Points",value:c.character.max_hit_points,name:"max-hit-points"},null,8,["modelValue","value"])])]),(0,l.Wm)(o,{modelValue:c.character.temporary_hit_points,"onUpdate:modelValue":a[38]||(a[38]=e=>c.character.temporary_hit_points=e),type:"number",required:"true",label:"Temporary Hit Points",value:c.character.temporary_hit_points,name:"temporary-hit-point"},null,8,["modelValue","value"]),(0,l._)("div",xt,[(0,l._)("div",Vt,[(0,l.Wm)(i,{modelValue:c.character.hit_dice,"onUpdate:modelValue":a[39]||(a[39]=e=>c.character.hit_dice=e),type:"text",required:"true",label:"Hit Dice",value:c.character.hit_dice,name:"hit-dice"},null,8,["modelValue","value"])]),(0,l._)("div",St,[(0,l.Wm)(o,{modelValue:c.character.death_save_successes,"onUpdate:modelValue":a[40]||(a[40]=e=>c.character.death_save_successes=e),type:"number",required:"true",label:"Death Save Successes",value:c.character.death_save_successes,name:"death-save-successes"},null,8,["modelValue","value"]),(0,l.Wm)(o,{modelValue:c.character.death_save_failures,"onUpdate:modelValue":a[41]||(a[41]=e=>c.character.death_save_failures=e),type:"number",required:"true",label:"Death Save Failures",value:c.character.death_save_failures,name:"death-save-failures"},null,8,["modelValue","value"])])]),It,(0,l._)("div",Ut,[qt,(0,l._)("textarea",{"v-model":c.character.attacks_and_spellcasting,value:c.character.attacks_and_spellcasting,onInput:a[42]||(a[42]=e=>c.character.attacks_and_spellcasting=e.target.value),class:"form-control",rows:"20"},null,40,Dt)]),jt,(0,l._)("div",Ct,[(0,l._)("div",Wt,[(0,l.Wm)(o,{modelValue:c.character.copper_pieces,"onUpdate:modelValue":a[43]||(a[43]=e=>c.character.copper_pieces=e),type:"number",required:"true",label:"Copper Pieces",value:c.character.copper_pieces,name:"copper-pieces"},null,8,["modelValue","value"]),(0,l.Wm)(o,{modelValue:c.character.silver_pieces,"onUpdate:modelValue":a[44]||(a[44]=e=>c.character.silver_pieces=e),type:"number",required:"true",label:"Silver Pieces",value:c.character.silver_pieces,name:"silver-pieces"},null,8,["modelValue","value"]),(0,l.Wm)(o,{modelValue:c.character.electrum_pieces,"onUpdate:modelValue":a[45]||(a[45]=e=>c.character.electrum_pieces=e),type:"number",required:"true",label:"Electrum Pieces",value:c.character.electrum_pieces,name:"electrum-pieces"},null,8,["modelValue","value"]),(0,l.Wm)(o,{modelValue:c.character.gold_pieces,"onUpdate:modelValue":a[46]||(a[46]=e=>c.character.gold_pieces=e),type:"number",required:"true",label:"Gold Pieces",value:c.character.gold_pieces,name:"gold-pieces"},null,8,["modelValue","value"]),(0,l.Wm)(o,{modelValue:c.character.platinum_pieces,"onUpdate:modelValue":a[47]||(a[47]=e=>c.character.platinum_pieces=e),type:"number",required:"true",label:"Platinum Pieces",value:c.character.platinum_pieces,name:"platinum-pieces"},null,8,["modelValue","value"])]),(0,l._)("div",Tt,[$t,(0,l._)("textarea",{"v-model":c.character.equipment,value:c.character.equipment,onInput:a[48]||(a[48]=e=>c.character.equipment=e.target.value),class:"form-control",rows:"14"},null,40,Ot)])])]),(0,l._)("div",Et,[(0,l._)("div",At,[Pt,(0,l._)("div",zt,[(0,l._)("textarea",{"v-model":c.character.personality,value:c.character.personality,onInput:a[49]||(a[49]=e=>c.character.personality=e.target.value),class:"form-control",rows:"4"},null,40,Ht)])]),(0,l._)("div",Lt,[Mt,(0,l._)("div",Nt,[(0,l._)("textarea",{"v-model":c.character.ideals,value:c.character.ideals,onInput:a[50]||(a[50]=e=>c.character.ideals=e.target.value),class:"form-control",rows:"4"},null,40,Zt)])]),(0,l._)("div",Ft,[Bt,(0,l._)("div",Jt,[(0,l._)("textarea",{"v-model":c.character.bonds,value:c.character.bonds,onInput:a[51]||(a[51]=e=>c.character.bonds=e.target.value),class:"form-control",rows:"4"},null,40,Rt)])]),(0,l._)("div",Gt,[Kt,(0,l._)("div",Yt,[(0,l._)("textarea",{"v-model":c.character.flaws,value:c.character.flaws,onInput:a[52]||(a[52]=e=>c.character.flaws=e.target.value),class:"form-control",rows:"4"},null,40,Qt)])]),(0,l._)("div",Xt,[er,(0,l._)("div",ar,[(0,l._)("textarea",{"v-model":c.character.features_and_traits,value:c.character.features_and_traits,onInput:a[53]||(a[53]=e=>c.character.features_and_traits=e.target.value),class:"form-control",rows:"30"},null,40,tr)])])])]),rr,(0,l._)("div",lr,[sr,(0,l.Wm)(u,{to:"/characters",class:"btn btn-secondary me-2"},{default:(0,l.w5)((()=>[cr])),_:1})]),(0,l._)("div",nr,[this.$route.params.characterId>0?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"btn btn-danger",href:"javascript:void(0);",onClick:a[54]||(a[54]=e=>n.confirmDelete(this.character.id))}," Delete ")):(0,l.kq)("",!0)]),ir])),_:1},8,["onCharacterEditEvent"])):((0,l.wg)(),(0,l.iD)("p",or,"Loading..."))])])])])])}const dr=["event","method","action"];function hr(e,a,t,s,c,n){return(0,l.wg)(),(0,l.iD)("form",{onSubmit:a[0]||(a[0]=(0,r.iM)(((...e)=>n.submit&&n.submit(...e)),["prevent"])),ref:t.name,event:t.event,autocomplete:"off",method:t.method,action:t.action,class:"needs-validation",novalidate:""},[(0,l.WI)(e.$slots,"default")],40,dr)}var mr={name:"FormTag",props:["method","action","event","name"],methods:{submit(){let e=this.$refs[this.$props.name];e.checkValidity()&&(console.log("My event name",this.$props.event),console.log("Name",this.$props.name),this.$emit(this.$props["event"])),e.classList.add("was-validated")}}};const pr=(0,O.Z)(mr,[["render",hr]]);var vr=pr;const _r={class:"mb-3 text-start"},fr=["for"],gr=["type","name","placeholder","required","min","max","value","disabled","autocomplete"],br={class:"form-text"};function wr(e,a,t,r,s,c){return(0,l.wg)(),(0,l.iD)("div",_r,[(0,l._)("label",{for:t.name,class:"form-label"},(0,M.zw)(t.label),9,fr),(0,l._)("input",{type:t.type,name:t.name,placeholder:t.placeholder,required:t.required,min:t.min,max:t.max,value:t.modelValue,disabled:t.disabled,autocomplete:t.name+"-new",onInput:a[0]||(a[0]=a=>e.$emit("update:modelValue",a.target.value)),class:"form-control"},null,40,gr),(0,l._)("div",br,(0,M.zw)(t.help),1)])}var yr={name:"TextInput",props:{name:String,type:String,label:String,placeholder:String,required:String,min:String,max:String,modelValue:String,disabled:String,help:String}};const kr=(0,O.Z)(yr,[["render",wr]]);var xr=kr;const Vr={class:"mb-3 text-start"},Sr=["for"],Ir=["type","name","placeholder","required","min","max","value","disabled","autocomplete"],Ur={class:"form-text"};function qr(e,a,t,r,s,c){return(0,l.wg)(),(0,l.iD)("div",Vr,[(0,l._)("label",{for:t.name,class:"form-label"},(0,M.zw)(t.label),9,Sr),(0,l._)("input",{type:t.type,name:t.name,placeholder:t.placeholder,required:t.required,min:t.min,max:t.max,value:t.modelValue,disabled:t.disabled,autocomplete:t.name+"-new",onInput:a[0]||(a[0]=a=>e.$emit("update:modelValue",a.target.value)),class:"form-control"},null,40,Ir),(0,l._)("div",Ur,(0,M.zw)(t.help),1)])}var Dr={name:"NumberInput",props:{name:String,type:String,label:String,placeholder:String,required:String,min:String,max:String,modelValue:Number,disabled:String,help:String}};const jr=(0,O.Z)(Dr,[["render",qr]]);var Cr=jr,Wr={beforeMount(){ae.requireToken(),parseInt(String(this.$route.params.characterId),10)>0?fetch("https://tavern-api-project.herokuapp.com/admin/characters/get/"+this.$route.params.characterId,ae.requestOptions("")).then((e=>e.json())).then((e=>{e.error?this.$emit("error",e.message):(this.character=e,this.ready=!0)})).catch((e=>{this.$emit("error",e)})):(this.character.user_id=this.store.user.id,this.character.user.first_name=this.store.user.first_name,this.character.user.last_name=this.store.user.last_name,this.ready=!0)},data(){return{store:q,ready:!1,character:{id:0,user_id:0,character_name:"",class:"",level:0,background:"",race:"",alignment:"",experience_points:0,strength:0,dexterity:0,constitution:0,wisdom:0,intelligence:0,charisma:0,acrobatics:0,animal_handling:0,arcana:0,athletics:0,deception:0,history:0,insight:0,intimidation:0,investigation:0,medicine:0,nature:0,perception:0,performance:0,persuation:0,religion:0,sleight_of_hand:0,stealth:0,survival:0,other_proficiencies_and_languages:"",armor_class:0,initiative:0,speed:0,max_hit_points:0,current_hit_points:0,temporary_hit_points:0,hit_dice:"",death_save_successes:0,death_save_failures:0,attacks_and_spellcasting:"",equipment:"",copper_pieces:0,silver_pieces:0,electrum_pieces:0,gold_pieces:0,platinum_pieces:0,personality:"",ideals:"",bonds:"",flaws:"",features_and_traits:"",user:{first_name:"",last_name:""}}}},components:{"form-tag":vr,"text-input":xr,"number-input":Cr},methods:{submitHandler(){const e={id:parseInt(String(this.$route.params.characterId),10),user_id:parseInt(String(this.character.user_id),10),character_name:this.character.character_name,class:this.character.class,level:parseInt(String(this.character.level),10),background:this.character.background,race:this.character.race,alignment:this.character.alignment,experience_points:parseInt(String(this.character.experience_points),10),strength:parseInt(String(this.character.strength),10),dexterity:parseInt(String(this.character.dexterity),10),constitution:parseInt(String(this.character.constitution),10),wisdom:parseInt(String(this.character.wisdom),10),intelligence:parseInt(String(this.character.intelligence),10),charisma:parseInt(String(this.character.charisma),10),acrobatics:parseInt(String(this.character.acrobatics),10),animal_handling:parseInt(String(this.character.animal_handling),10),arcana:parseInt(String(this.character.arcana),10),athletics:parseInt(String(this.character.athletics),10),deception:parseInt(String(this.character.deception),10),history:parseInt(String(this.character.history),10),insight:parseInt(String(this.character.insight),10),intimidation:parseInt(String(this.character.intimidation),10),investigation:parseInt(String(this.character.investigation),10),medicine:parseInt(String(this.character.medicine),10),nature:parseInt(String(this.character.nature),10),perception:parseInt(String(this.character.perception),10),performance:parseInt(String(this.character.performance),10),persuation:parseInt(String(this.character.persuation),10),religion:parseInt(String(this.character.religion),10),sleight_of_hand:parseInt(String(this.character.sleight_of_hand),10),stealth:parseInt(String(this.character.stealth),10),survival:parseInt(String(this.character.survival),10),other_proficiencies_and_languages:this.character.other_proficiencies_and_languages,armor_class:parseInt(String(this.character.armor_class),10),initiative:parseInt(String(this.character.initiative),10),speed:parseInt(String(this.character.speed),10),max_hit_points:parseInt(String(this.character.max_hit_points),10),current_hit_points:parseInt(String(this.character.current_hit_points),10),temporary_hit_points:parseInt(String(this.character.temporary_hit_points),10),hit_dice:this.character.hit_dice,death_save_successes:parseInt(String(this.character.death_save_successes),10),death_save_failures:parseInt(String(this.character.death_save_failures),10),attacks_and_spellcasting:this.character.attacks_and_spellcasting,equipment:this.character.equipment,copper_pieces:parseInt(String(this.character.copper_pieces),10),silver_pieces:parseInt(String(this.character.silver_pieces),10),electrum_pieces:parseInt(String(this.character.electrum_pieces),10),gold_pieces:parseInt(String(this.character.gold_pieces),10),platinum_pieces:parseInt(String(this.character.platinum_pieces),10),personality:this.character.personality,ideals:this.character.ideals,bonds:this.character.bonds,flaws:this.character.flaws,features_and_traits:this.character.features_and_traits};fetch("https://tavern-api-project.herokuapp.com/admin/characters/save",ae.requestOptions(e)).then((e=>e.json())).then((e=>{e.error?this.$emit("error",e.message):(this.$emit("success","Changes saved!"),Ll.push("/characters"))})).catch((e=>{this.$emit("error",e)}))},confirmDelete(e){re().confirm({text:"Are you sure you want to delete this character?",submitText:"Delete",submitCallback:()=>{let a={id:e};fetch("https://tavern-api-project.herokuapp.com/admin/characters/delete",ae.requestOptions(a)).then((e=>e.json())).then((e=>{e.error?this.$emit("error",e.message):(this.$emit("success","Character deleted!"),Ll.push("/characters"))}))}})}}};const Tr=(0,O.Z)(Wr,[["render",ur],["__scopeId","data-v-02c4f5e7"]]);var $r=Tr;const Or={class:"container"},Er={class:"row"},Ar={class:"col"},Pr={class:"card shadow-sm"},zr={class:"card-body px-0"},Hr=(0,l._)("h1",{class:"card-title"},"All Users",-1),Lr=(0,l._)("hr",null,null,-1),Mr={key:0,class:"table table-striped table-hover"},Nr=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"User"),(0,l._)("th",null,"Email"),(0,l._)("th",null,"Active"),(0,l._)("th",null,"Status")])],-1),Zr={key:0},Fr=(0,l._)("span",{class:"badge bg-success"}," Active ",-1),Br=[Fr],Jr={key:1},Rr=(0,l._)("span",{class:"badge bg-danger"}," Inactive ",-1),Gr=[Rr],Kr={key:2},Yr=["onClick"],Qr={key:3},Xr=(0,l._)("span",{class:"badge bg-danger"}," Logged out ",-1),el=[Xr],al={key:1};function tl(e,a,t,r,s,c){const n=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",Or,[(0,l._)("div",Er,[(0,l._)("div",Ar,[(0,l._)("div",Pr,[(0,l._)("div",zr,[Hr,Lr,this.ready?((0,l.wg)(),(0,l.iD)("table",Mr,[Nr,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.users,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("td",null,[(0,l.Wm)(n,{class:"btn btn-dark border-0",to:`/admin/users/${e.id}`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,M.zw)(e.first_name)+" "+(0,M.zw)(e.last_name),1)])),_:2},1032,["to"])]),(0,l._)("td",null,(0,M.zw)(e.email),1),1===e.active?((0,l.wg)(),(0,l.iD)("td",Zr,Br)):((0,l.wg)(),(0,l.iD)("td",Jr,Gr)),e.token.id>0?((0,l.wg)(),(0,l.iD)("td",Kr,[(0,l._)("button",{class:"badge bg-success border-0",onClick:a=>c.logUserOut(e.id)}," Logged in ",8,Yr)])):((0,l.wg)(),(0,l.iD)("td",Qr,el))])))),128))])])):((0,l.wg)(),(0,l.iD)("p",al,"Loading..."))])])])])])}var rl={data(){return{users:[],ready:!1}},beforeMount(){ae.requireToken(),fetch("https://tavern-api-project.herokuapp.com/admin/users",ae.requestOptions("")).then((e=>e.json())).then((e=>{e.error?re().alert({type:"error",text:e.message}):(this.users=e.data.users,this.ready=!0)})).catch((e=>{re().alert({type:"error",text:e})}))},methods:{logUserOut(e){e!==q.user.id?re().confirm({text:"Are you sure you want to logout this user?",submitText:"Log Out",submitCallback:()=>{fetch("https://tavern-api-project.herokuapp.com/admin/log-user-out/"+e,ae.requestOptions("")).then((e=>e.json())).then((e=>{e.error?this.$emit("error",e.message):(this.$emit("success",e.message),this.$emit("forceUpdate"))})).catch((e=>{this.$emit("error",e)}))}}):this.$emit("error","You can't log yourself out!")}}};const ll=(0,O.Z)(rl,[["render",tl]]);var sl=ll;const cl={class:"container"},nl={class:"row"},il={class:"col d-flex justify-content-center align-items-center"},ol={class:"card shadow-sm"},ul={class:"card-body"},dl=(0,l._)("h1",{class:"card-title"},"Edit User",-1),hl=(0,l._)("hr",null,null,-1),ml={class:"form-check"},pl=(0,l._)("label",{class:"form-check-label",for:"user-active"}," Active ",-1),vl={class:"form-check"},_l=(0,l._)("label",{class:"form-check-label",for:"user-active-2"}," Inactive ",-1),fl=(0,l._)("hr",null,null,-1),gl={class:"float-start"},bl=(0,l._)("input",{type:"submit",class:"btn btn-success me-2",value:"Save"},null,-1),wl=(0,l.Uk)("Cancel"),yl={class:"float-end"},kl=(0,l._)("div",{class:"clearfix"},null,-1),xl={key:1};function Vl(e,a,t,s,c,n){const i=(0,l.up)("text-input"),o=(0,l.up)("router-link"),u=(0,l.up)("form-tag");return(0,l.wg)(),(0,l.iD)("div",cl,[(0,l._)("div",nl,[(0,l._)("div",il,[(0,l._)("div",ol,[(0,l._)("div",ul,[dl,hl,this.ready?((0,l.wg)(),(0,l.j4)(u,{key:0,onUserEditEvent:n.submitHandler,name:"userform",event:"userEditEvent"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{modelValue:c.user.first_name,"onUpdate:modelValue":a[0]||(a[0]=e=>c.user.first_name=e),type:"text",required:"true",label:"First Name",value:c.user.first_name,name:"first-name"},null,8,["modelValue","value"]),(0,l.Wm)(i,{modelValue:c.user.last_name,"onUpdate:modelValue":a[1]||(a[1]=e=>c.user.last_name=e),type:"text",required:"true",label:"Last Name",value:c.user.last_name,name:"last-name"},null,8,["modelValue","value"]),(0,l.Wm)(i,{modelValue:c.user.email,"onUpdate:modelValue":a[2]||(a[2]=e=>c.user.email=e),type:"email",required:"true",label:"Email",value:c.user.email,name:"email"},null,8,["modelValue","value"]),0===this.user.id?((0,l.wg)(),(0,l.j4)(i,{key:0,modelValue:c.user.password,"onUpdate:modelValue":a[3]||(a[3]=e=>c.user.password=e),type:"password",required:"true",label:"Password",value:c.user.password,name:"password"},null,8,["modelValue","value"])):((0,l.wg)(),(0,l.j4)(i,{key:1,modelValue:c.user.password,"onUpdate:modelValue":a[4]||(a[4]=e=>c.user.password=e),type:"password",label:"Password",value:c.user.password,name:"password",help:"Leave empty to keep existing password"},null,8,["modelValue","value"])),(0,l._)("div",ml,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>c.user.active=e),class:"form-check-input",type:"radio",id:"user-active",value:1},null,512),[[r.G2,c.user.active]]),pl]),(0,l._)("div",vl,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>c.user.active=e),class:"form-check-input",type:"radio",id:"user-active-2",value:0},null,512),[[r.G2,c.user.active]]),_l]),fl,(0,l._)("div",gl,[bl,(0,l.Wm)(o,{to:"/admin/users",class:"btn btn-secondary me-2"},{default:(0,l.w5)((()=>[wl])),_:1})]),(0,l._)("div",yl,[this.$route.params.userId>0&&parseInt(String(this.$route.params.userId),10)!==c.store.user.id?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"btn btn-danger",href:"javascript:void(0);",onClick:a[7]||(a[7]=e=>n.confirmDelete(this.user.id))}," Delete ")):(0,l.kq)("",!0)]),kl])),_:1},8,["onUserEditEvent"])):((0,l.wg)(),(0,l.iD)("p",xl,"Loading..."))])])])])])}var Sl={beforeMount(){ae.requireToken(),parseInt(String(this.$route.params.userId),10)>0?fetch("https://tavern-api-project.herokuapp.com/admin/users/get/"+this.$route.params.userId,ae.requestOptions("")).then((e=>e.json())).then((e=>{e.error?this.$emit("error",e.message):(this.user=e,this.user.password="",this.ready=!0)})):this.ready=!0},data(){return{user:{id:0,first_name:"",last_name:"",email:"",password:"",active:0},store:q,ready:!1}},components:{"form-tag":vr,"text-input":xr},methods:{submitHandler(){const e={id:parseInt(String(this.$route.params.userId),10),first_name:this.user.first_name,last_name:this.user.last_name,email:this.user.email,password:this.user.password,active:this.user.active};fetch("https://tavern-api-project.herokuapp.com/admin/users/save",ae.requestOptions(e)).then((e=>e.json())).then((e=>{e.error?this.$emit("error",e.message):(this.$emit("success","Changes saved!"),Ll.push("/admin/users"))})).catch((e=>{this.$emit("error",e)}))},confirmDelete(e){re().confirm({text:"Are you sure you want to delete this user?",submitText:"Delete",submitCallback:()=>{let a={id:e};fetch("https://tavern-api-project.herokuapp.com/admin/users/delete",ae.requestOptions(a)).then((e=>e.json())).then((e=>{e.error?this.$emit("error",e.message):(this.$emit("success","User deleted!"),Ll.push("/admin/users"))}))}})}}};const Il=(0,O.Z)(Sl,[["render",Vl]]);var Ul=Il;const ql={class:"container d-flex justify-content-center align-items-center"},Dl={class:"row"},jl={class:"card shadow-sm"},Cl={class:"card-body"},Wl=(0,l._)("h1",{class:"card-title"},"Login",-1),Tl=(0,l._)("hr",null,null,-1),$l=(0,l._)("input",{type:"submit",class:"btn btn-dark w-100",value:"Login"},null,-1);function Ol(e,a,t,r,s,c){const n=(0,l.up)("text-input"),i=(0,l.up)("form-tag");return(0,l.wg)(),(0,l.iD)("div",ql,[(0,l._)("div",Dl,[(0,l._)("div",jl,[(0,l._)("div",Cl,[Wl,Tl,(0,l.Wm)(i,{onMyevent:c.submitHandler,name:"myform",event:"myevent"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{modelValue:s.email,"onUpdate:modelValue":a[0]||(a[0]=e=>s.email=e),label:"Email",type:"email",name:"email",required:"true"},null,8,["modelValue"]),(0,l.Wm)(n,{modelValue:s.password,"onUpdate:modelValue":a[1]||(a[1]=e=>s.password=e),label:"Password",type:"password",name:"password",required:"true"},null,8,["modelValue"]),$l])),_:1},8,["onMyevent"])])])])])}var El={name:"app-login",components:{TextInput:xr,FormTag:vr},data(){return{email:"",password:"",store:q}},methods:{submitHandler(){const e={email:this.email,password:this.password};fetch("https://tavern-api-project.herokuapp.com/users/login",ae.requestOptions(e)).then((e=>e.json())).then((e=>{if(e.error)re().alert({type:"error",text:e.message});else{q.token=e.data.token.token,q.user={id:e.data.user.id,first_name:e.data.user.first_name,last_name:e.data.user.last_name,email:e.data.user.email};let a=new Date,t=1;a.setTime(a.getTime()+24*t*60*60*1e3);const r="expires="+a.toUTCString();document.cookie="_site_data="+JSON.stringify(e.data)+"; "+r+"; path=/; SameSite=strict; Secure;",Ll.push("/")}}))}}};const Al=(0,O.Z)(El,[["render",Ol]]);var Pl=Al;const zl=[{path:"/",name:"Home",component:P},{path:"/the-tavern",name:"The Tavern",component:L},{path:"/characters",name:"Characters",component:ce},{path:"/characters/:characterId",name:"Character",component:me},{path:"/admin/characters/:characterId",name:"CharacterSheetEdit",component:$r},{path:"/admin/users",name:"Users",component:sl},{path:"/admin/users/:userId",name:"User",component:Ul},{path:"/login",name:"Login",component:Pl}],Hl=(0,D.p7)({history:(0,D.PO)(),routes:zl,linkActiveClass:"active",linkExactActiveClass:"active"});Hl.beforeEach((()=>{ae.checkToken()}));var Ll=Hl,Ml={data(){return{store:q,currentRoute:this.$route.name}},methods:{logout(){const e={token:q.token};fetch("https://tavern-api-project.herokuapp.com/users/logout",ae.requestOptions(e)).then((e=>e.json())).then((e=>{e.error?console.log(e.message):(q.token="",q.user={},document.cookie="_site_data=; Path=/; SameSite=Strict; Secure; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",Ll.push("/login"))}))}}};const Nl=(0,O.Z)(Ml,[["render",I],["__scopeId","data-v-975c0d6e"]]);var Zl=Nl;const Fl={class:"d-flex flex-wrap justify-content-between align-items-center py-3 bg-dark shadow-sm"},Bl={class:"col-md-4 d-flex align-items-center ms-3"},Jl={class:"my-auto mb-md-0"},Rl=(0,l.uE)('<ul class="nav col-md-4 justify-content-end list-unstyled d-flex me-3" data-v-11ebc3f9><li class="ms-3" data-v-11ebc3f9><a href="https://www.linkedin.com/in/emilenestor/" class="badge badge-dark" target="_blank" data-v-11ebc3f9><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-linkedin" viewBox="0 0 16 16" data-v-11ebc3f9><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z" data-v-11ebc3f9></path></svg></a><a href="https://github.com/emilenestor" class="badge badge-dark" target="_blank" data-v-11ebc3f9><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16" data-v-11ebc3f9><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-v-11ebc3f9></path></svg></a></li></ul>',1);function Gl(e,a){return(0,l.wg)(),(0,l.iD)("footer",Fl,[(0,l._)("div",Bl,[(0,l._)("span",Jl,"© "+(0,M.zw)((new Date).getFullYear())+" The Tavern, Inc",1)]),Rl])}const Kl={},Yl=(0,O.Z)(Kl,[["render",Gl],["__scopeId","data-v-11ebc3f9"]]);var Ql=Yl;const Xl=e=>document.cookie.split("; ").reduce(((a,t)=>{const r=t.split("=");return r[0]===e?decodeURIComponent(r[1]):a}),"");var es={name:"App",components:{AppHeader:Zl,AppFooter:Ql},data(){return{store:q,componentKey:0}},beforeMount(){let e=Xl("_site_data");if(""!==e){let a=JSON.parse(e);q.token=a.token.token,q.user={id:a.user.id,first_name:a.user.first_name,last_name:a.user.last_name,email:a.user.email}}},methods:{success(e){re().alert({type:"success",text:e})},error(e){re().alert({type:"error",text:e})},warning(e){re().alert({type:"warning",text:e})},forceUpdate(){this.componentKey+=1}}};const as=(0,O.Z)(es,[["render",c]]);var ts=as;(0,r.ri)(ts).use(Ll).mount("#app")}},a={};function t(r){var l=a[r];if(void 0!==l)return l.exports;var s=a[r]={exports:{}};return e[r].call(s.exports,s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(a,r,l,s){if(!r){var c=1/0;for(u=0;u<e.length;u++){r=e[u][0],l=e[u][1],s=e[u][2];for(var n=!0,i=0;i<r.length;i++)(!1&s||c>=s)&&Object.keys(t.O).every((function(e){return t.O[e](r[i])}))?r.splice(i--,1):(n=!1,s<c&&(c=s));if(n){e.splice(u--,1);var o=l();void 0!==o&&(a=o)}}return a}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[r,l,s]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,r){var l,s,c=r[0],n=r[1],i=r[2],o=0;if(c.some((function(a){return 0!==e[a]}))){for(l in n)t.o(n,l)&&(t.m[l]=n[l]);if(i)var u=i(t)}for(a&&a(r);o<c.length;o++)s=c[o],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(u)},r=self["webpackChunktavern_project_vue"]=self["webpackChunktavern_project_vue"]||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))}();var r=t.O(void 0,[998],(function(){return t(3946)}));r=t.O(r)})();
//# sourceMappingURL=app.c15572d6.js.map